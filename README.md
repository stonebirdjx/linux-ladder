<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**Table of Contents**  *generated with [DocToc](https://github.com/thlorenz/doctoc)*

- [A-Z:linux学习路径](#a-zlinux%E5%AD%A6%E4%B9%A0%E8%B7%AF%E5%BE%84)
  - [前面的话](#%E5%89%8D%E9%9D%A2%E7%9A%84%E8%AF%9D)
  - [安装linux和使用ssh工具（一天）](#%E5%AE%89%E8%A3%85linux%E5%92%8C%E4%BD%BF%E7%94%A8ssh%E5%B7%A5%E5%85%B7%E4%B8%80%E5%A4%A9)
  - [用户和群组管理（一天）](#%E7%94%A8%E6%88%B7%E5%92%8C%E7%BE%A4%E7%BB%84%E7%AE%A1%E7%90%86%E4%B8%80%E5%A4%A9)
- [:point_right:shell:第一门编程语言](#point_rightshell%E7%AC%AC%E4%B8%80%E9%97%A8%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80)
- [参考资料](#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

# A-Z:linux学习路径

## 前面的话

:point_right:忘记桌面（desktop），回归命令行本质。

:point_right:linux一切皆文件。

:point_right:help玩家，多查看命令帮助文件减少百度次数。

:point_right:重要的话说三遍，别忘了做笔记，别忘了做笔记，别忘了自己笔记。

## 安装linux和使用ssh工具（一天）

有了环境才能学习。没有环境的同学要学会安装linux环境。网上安装教程很多。tips:破解版软件请勿用户商业环境。

> 也推荐自己安装环境。为后面的分布式系统，集群、容器编排做打算，可以拷贝副本的方式复制虚拟机

ssh工具：windows系统:推荐使用MobaXterm，Xshell等工具。其他系统用自带的终端ssh连接就好。

:point_right:目标：linux跑起来，ssh能正常连接即可

作为初学者你**只需要知道cpu、显卡、网卡、内存、磁盘有这些东西和对应的功能即可**，不需要过得的关注其深层原理。

## 用户和群组管理（一天）

linux是一个多用户的系统，管理用户和用户组是最重要的工作之一，这是超级管理员root的职责，**用户和用户组首要的学习目标**。

ssh连上的那一刻，你就会进入到登录用户的工作目录下。

> 超级用户在系统中的用户ID和组ID都是0。普通用户的用户ID（UID）从500开始编号，并且默认属于与用户名同名的组。组ID（GID）也从500开始编号。

用户组相关命令

```bash
groupadd #添加用户组
groupmod #修改用户组
groupdel #删除用户组
```

用户相关命令

```bash
useradd #添加用户
usermod #修改用户
userdel #删除用户
```

更改用户密码

```bash
passwd ${user_name}
```

相关系统文件

```bash
/etc/passwd # 用户文件
/etc/shadow # 主件
/etc/group # 用户组文件
```

:point_right:目标：能对用户、用户口令（密码）、用户组管理自如，知道相关的系统文件





# :point_right:shell:第一门编程语言



# 参考资料

[cgsl-V5.04用户手册]()



 

访问命令行； 

➢ 使用命令行管理文件； 

➢ 创建、查看和编辑文本文件； 

➢ 管理本地用户和群组； 

➢ 监控和管理 Linux 进程； 

➢ 控制服务和守护进程； 

➢ 利用文件系统权限控制文件访问； 

➢ 分析和存储日志文件； 

➢ 配置和确保 OpenSSH 服务的安全； 

➢ 安装和更新软件包； 

➢ 访问 Linux 文件系统； 

➢ 管理 Linux 网络；

➢ 使用 Kickstart 安装红帽企业版 Linux； 

➢ 管理文件系统和逻辑卷； 

➢ 管理计划作业； 

➢ 访问网络文件系统； 

➢ 管理 SELinux； 

➢ 控制防火墙； 

➢ 执行故障排除任务。







**第** **1** **章** **基本命令介绍****..................................................................................................................****1** 

**1.1** **基 础 知 识** **.......................................................................................................................................................... 1** 

1.1.1 文 件 命 令 .............................................................................................................................................. 1 

1.1.2 路 径 ........................................................................................................................................................1 

1.1.3 文 件 类 型 .............................................................................................................................................. 2 

1.1.4 目 录 结 构 .............................................................................................................................................. 2 

1.1.5 Shell 简 介 ..............................................................................................................................................3 

1.1.6 系 统 帮 助 .............................................................................................................................................. 4 

**1.2** **目 录 操 作 命 令** **.................................................................................................................................................7** 

1.2.1 查 看 目 录 .............................................................................................................................................. 7 

1.2.2 改 变 工 作 目 录 .....................................................................................................................................8 

1.2.3 创 建 目 录 .............................................................................................................................................. 8 

1.2.4 删 除 目 录 .............................................................................................................................................. 8 

1.2.5 显 示 当 前 目 录 .....................................................................................................................................9 

**1.3** **文 件 操 作 命 令** **.................................................................................................................................................9** 

1.3.1 显 示 文 本 文 件 .....................................................................................................................................9 

1.3.2 更 新 文 件 访 问 和 修 改 时 间 ........................................................................................................... 11 

1.3.3 拷 贝 文 件 ............................................................................................................................................ 11 

1.3.4 移 动 和 重 命 名 文 件 ......................................................................................................................... 12 

1.3.5 删 除 文 件 ............................................................................................................................................12 

1.3.6 文 件 链 接 ............................................................................................................................................12 

1.3.7 文 件 内 容 比 较 .................................................................................................................................. 13 

1.3.8 查 找 文 件 ............................................................................................................................................14 

1.3.9 在 文 件 中 查 找 文 本 ......................................................................................................................... 15 

**1.4** **文 件 权 限 操 作** **...............................................................................................................................................16** 

1.4.1 改 变 文 件 主 ....................................................................................................................................... 16 

1.4.2 改 变 文 件 用 户 组 ..............................................................................................................................16 

1.4.3 文 件 权 限 设 置 .................................................................................................................................. 17 

1.4.4 改 变 文 件 权 限 .................................................................................................................................. 18 

1.4.5 默 认 权 限 ............................................................................................................................................20 

**1.5** **重 定 向 和 管 道** **...............................................................................................................................................20** 

1.5.1 输 入 重 定 向 ....................................................................................................................................... 21 

1.5.2 输 出 重 定 向 ....................................................................................................................................... 21 

1.5.3 管 道 ..................................................................................................................................................... 23 

**1.6** **进 程 与 控 制 作 业 命 令** **................................................................................................................................ 24** 

1.6.1 用 ps 命 令 查 看 系 统 中 的 进 程 .................................................................................................... 24 

I**NewStart CGSL CORE V5 系统用户手册** 

1.6.2 top 命 令 ............................................................................................................................................... 25 

1.6.3 用 kill 命 令 终 止 进 程 .....................................................................................................................26 

**1.7** **基 本 网 络 命 令** **...............................................................................................................................................26** 

1.7.1 基 本 的 网 络 配 置 命 令 .................................................................................................................... 27 

1.7.2 ping 27 

1.7.3 telnet.....................................................................................................................................................29 

1.7.4 ftp 30 

1.7.5 finger.................................................................................................................................................... 31 

**第** **2** **章 系统安装与升级****...........................................................................................................****32** 

**2.1** **系 统 安 装** **........................................................................................................................................................ 32** 

**2.2** **系 统 升 级** **........................................................................................................................................................ 32** 

2.2.1 CGSL CORE 系 统 升 级 补 丁 的 命 名 规 则 ..................................................................................32 

2.2.2 系 统 升 级 补 丁 程 序 的 使 用 方 法 ................................................................................................. 33 

2.2.3 升 级 过 程 的 注 意 事 项 .................................................................................................................... 33 

**第** **3** **章 用户和组群管理****...........................................................................................................****35** 

**3.1** **概 述** **..................................................................................................................................................................35** 

3.1.1 用 su 命 令 改 变 身 份 ....................................................................................................................... 36 

3.1.2 系 统 中 的 用 户 管 理 配 置 文 件 ...................................................................................................... 36 

**3.2** **命 令 行 界 面 下 的 用 户 和 组 管 理** **............................................................................................................. 37** 

3.2.1 用 户 管 理 ............................................................................................................................................37 

3.2.2 用 户 组 管 理 ....................................................................................................................................... 39 

**第** **4** **章 文件系统管理****...............................................................................................................** **41** 

**4.1** **文 件 系 统 基 础 和 相 关 操 作** **.......................................................................................................................41** 

4.1.1 建 立 文 件 系 统 .................................................................................................................................. 42 

4.1.2 挂 载 文 件 系 统 .................................................................................................................................. 42 

4.1.3 卸 载 文 件 系 统 .................................................................................................................................. 43 

4.1.4 用 fstab 文 件 配 置 文 件 系 统 ........................................................................................................ 43 

4.1.5 检 查 和 修 复 文 件 系 统 .................................................................................................................... 45 

4.1.6 常 用 文 件 系 统 管 理 命 令 ................................................................................................................45 

4.1.7 使 用 设 备 ............................................................................................................................................46 

**4.2** **文 件 系 统 管 理 实 例** **..................................................................................................................................... 47** 

4.2.1 添 加 新 硬 盘 ....................................................................................................................................... 47 

4.2.2 ext4 转 换 成 xfs................................................................................................................................. 47 

4.2.3 ext3 转 换 为 ext4...............................................................................................................................48 

4.2.4 ext2 转 换 为 ext3...............................................................................................................................48 

4.2.5 ext3 还 原 为 ext2...............................................................................................................................49 

**4.3** **磁 盘 分 区 管 理** **...............................................................................................................................................49** 

4.3.1 Parted 工 具 .........................................................................................................................................49 

II**NewStart CGSL CORE V5 系统用户手册** 

4.3.2 Fdisk 工 具 ...........................................................................................................................................52 

**4.4** **交 换 空 间** **........................................................................................................................................................ 55** 

4.4.1 交 换 空 间 是 什 么 ..............................................................................................................................55 

4.4.2 添 加 交 换 空 间 .................................................................................................................................. 55 

4.4.3 删 除 交 换 空 间 .................................................................................................................................. 57 

4.4.4 移 动 交 换 空 间 .................................................................................................................................. 57 

**4.5 RAID** **管 理** **......................................................................................................................................................58** 

4.5.1 RAID 是 什 么 ?................................................................................................................................... 58 

4.5.2 谁 应 该 使 用 RAID...........................................................................................................................58 

4.5.3 硬 件 RAID 和 软 件 RAID............................................................................................................. 58 

4.5.4 mdadm 管 理 软 RAID 阵 列 ............................................................................................................60 

**4.6** **逻 辑 卷 管 理 器 （** **LVM****）** **........................................................................................................................... 63** 

4.6.1 LVM 创 建 及 配 置 示 例 .................................................................................................................... 66 

**4.7** **设 备 映 射 多 路 径 （** **DM-Multipath****）** **...................................................................................................70** 

4.7.1 DM-Multipath 概 述 ......................................................................................................................... 70 

4.7.2 DM-Multipath 配 置 及 管 理 示 例 ..................................................................................................71 

**第** **5** **章 软件包管理****....................................................................................................................** **73** 

**5.1** **使 用** **rpm** **命 令** **...........................................................................................................................................73** 

5.1.1 安 装 、 升 级 和 更 新 ......................................................................................................................... 73 

5.1.2 删 除 ..................................................................................................................................................... 73 

5.1.3 查 询 ..................................................................................................................................................... 74 

5.1.4 验 证 ..................................................................................................................................................... 75 

**5.2** **使 用** **yum** **命 令** **............................................................................................................................................. 75** 

5.2.1 配 置 软 件 仓 库 .................................................................................................................................. 75 

5.2.2 yum 常 用 命 令 介 绍 .......................................................................................................................... 75 

**第** **6** **章 使用** **Vim** **编辑器****..........................................................................................................****77** 

**6.1 Vim** **的 工 作 模 式** **........................................................................................................................................... 77** 

6.1.1 命 令 模 式 ............................................................................................................................................77 

6.1.2 插 入 模 式 ............................................................................................................................................77 

6.1.3 命 令 模 式 ............................................................................................................................................78 

**6.2 Vim** **编 辑 文 件 的 基 本 过 程** **........................................................................................................................ 78** 

6.2.1 光 标 的 移 动 ....................................................................................................................................... 78 

6.2.2 基 本 编 辑 指 令 .................................................................................................................................. 79 

**第** **7** **章 基础系统管理****...............................................................................................................** **82** 

**7.1** **时 间 和 日 期 管 理** **..........................................................................................................................................82** 

7.1.1 日 期 和 时 间 属 性 ..............................................................................................................................82 

7.1.2 时 区 配 置 ............................................................................................................................................83 

**7.2** **键 盘 配 置** **........................................................................................................................................................ 84** 

III**NewStart CGSL CORE V5 系统用户手册** 

**7.3** **任 务 自 动 化** **................................................................................................................................................... 85** 

7.3.1 cron 85 

7.3.2 at 和 batch ...........................................................................................................................................87 

**7.4** **服 务 管 理** **........................................................................................................................................................ 90** 

7.4.1 systemctl 命 令 ...................................................................................................................................90 

7.4.2 替 换 的 服 务 例 子 ： ......................................................................................................................... 91 

**7.5** **内 核 模 块 管 理** **...............................................................................................................................................92** 

7.5.1 概 述 ..................................................................................................................................................... 92 

7.5.2 内 核 模 块 工 具 .................................................................................................................................. 92 

**7.6 Kdump............................................................................................................................................................. 94** 

**7.7** **系 统 信 息 收 集** **...............................................................................................................................................95** 

7.7.1 进 程 信 息 ............................................................................................................................................95 

7.7.2 内 存 信 息 ............................................................................................................................................98 

7.7.3 文 件 系 统 信 息 .................................................................................................................................. 99 

**第** **8** **章 系统服务****......................................................................................................................** **101** 

**8.1 NTP 101** 

8.1.1 Chrony 配 置 文 件 ........................................................................................................................... 102 

8.1.2 NTP 配 置 实 例 .................................................................................................................................102 

**8.2 vsftpd.............................................................................................................................................................107** 

8.2.1 vsftpd 配 置 文 件 ............................................................................................................................. 107 

8.2.2 vsftpd 配 置 实 例 ............................................................................................................................. 109 

**8.3 Samba............................................................................................................................................................ 110** 

8.3.1 Samba 配 置 文 件 .............................................................................................................................110 

8.3.2 Samba 配 置 实 例 ............................................................................................................................. 111 

**8.4 NFS 112** 

8.4.1 NFS 配 置 文 件 ................................................................................................................................. 112 

8.4.2 NFS 配 置 实 例 ................................................................................................................................. 113 

**8.5 Telnet............................................................................................................................................................. 114** 

Telnet 服 务 的 启 动 ....................................................................................................................................114 

Telnet 客 户 端 ............................................................................................................................................. 115 

**8.6 OpenSSH.......................................................................................................................................................115** 

**第** **9** **章 系统安全****......................................................................................................................** **118** 

**9.1** **系 统 安 全 概 要** **............................................................................................................................................ 118** 

9.1.1 安 全 管 理 ..........................................................................................................................................118 

9.1.2 常 见 安 全 问 题 及 对 策 ..................................................................................................................120 

**9.2** **系 统 备 份** **......................................................................................................................................................121** 

9.2.1 备 份 前 的 准 备 ................................................................................................................................ 121 

9.2.2 常 用 备 份 命 令 ................................................................................................................................ 122 

**9.3** **加 密 措 施** **......................................................................................................................................................126** 

IV**NewStart CGSL CORE V5 系统用户手册** 

9.3.1 SSH 和 RSA/DSA 认 证 ................................................................................................................ 126 

9.3.2 PGP 128 

9.3.3 OPENSSL..........................................................................................................................................128 

**9.4** **账 户 安 全** **......................................................................................................................................................129** 

9.4.1 账 户 管 理 ..........................................................................................................................................129 

9.4.2 用 户 认 证 (PAM).............................................................................................................................129 

9.4.3 访 问 控 制 ..........................................................................................................................................129 

**9.5** **防 火 墙** **(Netfilter/Iptables)................................................................................................................... 130** 

9.5.1 防 火 墙 (Netfilter/Iptables)介 绍 ................................................................................................130 

9.5.2 建 立 规 则 和 链 ................................................................................................................................ 130 

9.5.3 启 动 与 关 闭 防 火 墙 .......................................................................................................................134 

**9.6** **防 火 墙** **(Netfilter/Firewalld)................................................................................................................ 134** 

9.6.1 防 火 墙 (Netfilter/Firewalld)介 绍 .............................................................................................134 

9.6.2 区 域 (zones)概 念 ........................................................................................................................... 135 

9.6.3 防 火 墙 (Netfilter/ firewalld)配 置 ............................................................................................ 136 

9.6.4 启 动 与 关 闭 防 火 墙 .......................................................................................................................140 

**9.7** **安 全 审 计** **(Audit).......................................................................................................................................140** 

9.7.1 配 置 审 计 守 护 进 程 (auditd)...................................................................................................... 140 

9.7.2 编 写 审 计 规 则 ................................................................................................................................ 143 

9.7.3 使 用 审 计 监 控 文 件 .......................................................................................................................146 

**9.8** **日 志 系 统** **......................................................................................................................................................147** 

9.8.1 定 位 日 志 文 件 ................................................................................................................................ 147 

9.8.2 重 要 日 志 说 明 ................................................................................................................................ 148 

9.8.3 rsyslog............................................................................................................................................... 148 

9.8.4 Logrotate ...........................................................................................................................................151 

**9.9** **服 务 安 全** **......................................................................................................................................................154** 

**9.10** **传 输 通 道 安 全** **(ipsec vpn)................................................................................................................... 155** 

**9.11 SELinux......................................................................................................................................................155** 

9.11.1 简 介 .................................................................................................................................................155 

9.11.2 SELinux 的 工 作 流 程 ..................................................................................................................155 

9.11.3 SELinux 中 的 安 全 上 下 文 ........................................................................................................ 156 

9.11.4 SElinux 的 配 置 .............................................................................................................................157 

9.11.5 启 动 与 关 闭 SELinux.................................................................................................................158 

9.11.6 与 SELinux 有 关 的 日 志 文 件 ................................................................................................. 161 

**第** **10** **章 网络****.............................................................................................................................** **162** 

**10.1** **网 络 配 置** **................................................................................................................................................... 162** 

10.1.1 使 用 NetworkManager 服 务 管 理 网 络 .................................................................................162 

10.1.2 使 用 network 服 务 管 理 网 络 .................................................................................................. 168 

**10.2** **网 络 常 用 命 令** **..........................................................................................................................................170** 

V**NewStart CGSL CORE V5 系统用户手册** 

**10.3** **网 卡 绑 定** **................................................................................................................................................... 170** 

**10.4 Network teaming** **服 务** **..........................................................................................................................172** 

10.4.1 使 用 nmcli 工 具 创 建 一 个 网 卡 绑 定 .................................................................................... 172 

10.4.2 使 用 nmtui 工 具 创 建 网 卡 绑 定 ............................................................................................. 174 

**第** **11** **章 图形环境****....................................................................................................................****177** 

**11.1 VNC..............................................................................................................................................................177** 

11.1.1 VNC 安 装 ....................................................................................................................................... 177 

11.1.2 VNC 配 置 ....................................................................................................................................... 178 

**11.2 XManager .................................................................................................................................................. 178** 

11.2.1 XManager 服 务 端 配 置 ...............................................................................................................179 

11.2.2 注 意 事 项 ....................................................................................................................................... 179 

11.2.3 在 xinetd 上 配 置 VNC 与 XDCMP....................................................................................... 179 

**第** **12** **章** **Docker** **使用****............................................................................................................** **181** 

**12.1** **启 动** **docker** **服 务** **................................................................................................................................... 181** 

**12.2** **镜 像 下 载 和 导 入** **..................................................................................................................................... 182** 

**12.3** **启 动 容 器 和 进 入 容 器** **............................................................................................................................183** 

**12.4 docker** **数 据 管 理** **..................................................................................................................................... 185** 

**12.5 Docker** **端 口 映 射** **.....................................................................................................................................187** 

**12.6** **通 过 基 础 镜 像 创 建 新 镜 像** **.................................................................................................................. 188** 

**12.7 docker** **资 源 限 制** **..................................................................................................................................... 191** 

**第** **13** **章 自研工具** **....................................................................................................................****193** 

**13.1 cgsl-security-enhance2.........................................................................................................................193** 

**第** **14** **章** **COPYRIGHT NOTICE AND WARRANTY DISCLAIMER****....................****197**
